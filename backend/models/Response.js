const mongoose = require("mongoose");

const answerSchema = new mongoose.Schema({
  questionId: String,   // index of question or id
  rating: Number,       // for rating questions
  text: String          // for optional text feedback
});

const responseSchema = new mongoose.Schema({
  eventId: {
    type: mongoose.Schema.Types.ObjectId,
    ref: "Event",
    required: true
  },

  answers: [answerSchema],

  submittedAt: {
    type: Date,
    default: Date.now
  }
});

// ðŸ”¥ indexes for fast analytics queries
responseSchema.index({ eventId: 1 });
responseSchema.index({ submittedAt: -1 });length















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































module.exports = mongoose.model("Response", responseSchema);
